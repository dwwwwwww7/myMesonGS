args.test_iterations [0]
Optimizing E:/3dgs data/MesonGS/output/playroom_config3
hyper_config config3 [30/11 03:40:34]
debug False [30/11 03:40:34]
Output folder: E:/3dgs data/MesonGS/output/playroom_config3 [30/11 03:40:34]
Reading camera 1/225Reading camera 2/225Reading camera 3/225Reading camera 4/225Reading camera 5/225Reading camera 6/225Reading camera 7/225Reading camera 8/225Reading camera 9/225Reading camera 10/225Reading camera 11/225Reading camera 12/225Reading camera 13/225Reading camera 14/225Reading camera 15/225Reading camera 16/225Reading camera 17/225Reading camera 18/225Reading camera 19/225Reading camera 20/225Reading camera 21/225Reading camera 22/225Reading camera 23/225Reading camera 24/225Reading camera 25/225Reading camera 26/225Reading camera 27/225Reading camera 28/225Reading camera 29/225Reading camera 30/225Reading camera 31/225Reading camera 32/225Reading camera 33/225Reading camera 34/225Reading camera 35/225Reading camera 36/225Reading camera 37/225Reading camera 38/225Reading camera 39/225Reading camera 40/225Reading camera 41/225Reading camera 42/225Reading camera 43/225Reading camera 44/225Reading camera 45/225Reading camera 46/225Reading camera 47/225Reading camera 48/225Reading camera 49/225Reading camera 50/225Reading camera 51/225Reading camera 52/225Reading camera 53/225Reading camera 54/225Reading camera 55/225Reading camera 56/225Reading camera 57/225Reading camera 58/225Reading camera 59/225Reading camera 60/225Reading camera 61/225Reading camera 62/225Reading camera 63/225Reading camera 64/225Reading camera 65/225Reading camera 66/225Reading camera 67/225Reading camera 68/225Reading camera 69/225Reading camera 70/225Reading camera 71/225Reading camera 72/225Reading camera 73/225Reading camera 74/225Reading camera 75/225Reading camera 76/225Reading camera 77/225Reading camera 78/225Reading camera 79/225Reading camera 80/225Reading camera 81/225Reading camera 82/225Reading camera 83/225Reading camera 84/225Reading camera 85/225Reading camera 86/225Reading camera 87/225Reading camera 88/225Reading camera 89/225Reading camera 90/225Reading camera 91/225Reading camera 92/225Reading camera 93/225Reading camera 94/225Reading camera 95/225Reading camera 96/225Reading camera 97/225Reading camera 98/225Reading camera 99/225Reading camera 100/225Reading camera 101/225Reading camera 102/225Reading camera 103/225Reading camera 104/225Reading camera 105/225Reading camera 106/225Reading camera 107/225Reading camera 108/225Reading camera 109/225Reading camera 110/225Reading camera 111/225Reading camera 112/225Reading camera 113/225Reading camera 114/225Reading camera 115/225Reading camera 116/225Reading camera 117/225Reading camera 118/225Reading camera 119/225Reading camera 120/225Reading camera 121/225Reading camera 122/225Reading camera 123/225Reading camera 124/225Reading camera 125/225Reading camera 126/225Reading camera 127/225Reading camera 128/225Reading camera 129/225Reading camera 130/225Reading camera 131/225Reading camera 132/225Reading camera 133/225Reading camera 134/225Reading camera 135/225Reading camera 136/225Reading camera 137/225Reading camera 138/225Reading camera 139/225Reading camera 140/225Reading camera 141/225Reading camera 142/225Reading camera 143/225Reading camera 144/225Reading camera 145/225Reading camera 146/225Reading camera 147/225Reading camera 148/225Reading camera 149/225Reading camera 150/225Reading camera 151/225Reading camera 152/225Reading camera 153/225Reading camera 154/225Reading camera 155/225Reading camera 156/225Reading camera 157/225Reading camera 158/225Reading camera 159/225Reading camera 160/225Reading camera 161/225Reading camera 162/225Reading camera 163/225Reading camera 164/225Reading camera 165/225Reading camera 166/225Reading camera 167/225Reading camera 168/225Reading camera 169/225Reading camera 170/225Reading camera 171/225Reading camera 172/225Reading camera 173/225Reading camera 174/225Reading camera 175/225Reading camera 176/225Reading camera 177/225Reading camera 178/225Reading camera 179/225Reading camera 180/225Reading camera 181/225Reading camera 182/225Reading camera 183/225Reading camera 184/225Reading camera 185/225Reading camera 186/225Reading camera 187/225Reading camera 188/225Reading camera 189/225Reading camera 190/225Reading camera 191/225Reading camera 192/225Reading camera 193/225Reading camera 194/225Reading camera 195/225Reading camera 196/225Reading camera 197/225Reading camera 198/225Reading camera 199/225Reading camera 200/225Reading camera 201/225Reading camera 202/225Reading camera 203/225Reading camera 204/225Reading camera 205/225Reading camera 206/225Reading camera 207/225Reading camera 208/225Reading camera 209/225Reading camera 210/225Reading camera 211/225Reading camera 212/225Reading camera 213/225Reading camera 214/225Reading camera 215/225Reading camera 216/225Reading camera 217/225Reading camera 218/225Reading camera 219/225Reading camera 220/225Reading camera 221/225Reading camera 222/225Reading camera 223/225Reading camera 224/225Reading camera 225/225 [30/11 03:40:34]
Loading Training Cameras 196 [30/11 03:40:34]
Loading Test Cameras 29 [30/11 03:40:42]
now I am loading ply, spatial_lr_scale is 8.385717 [30/11 03:40:44]
xyz.shape (2546116, 3) [30/11 03:40:46]
opacities save shape (2546116, 1) [30/11 03:40:46]
Load ply from E:/3dgs data/models/playroom/point_cloud/iteration_30000/point_cloud.ply [30/11 03:40:49]
training setup: finetune [30/11 03:40:49]

====================================================================== [30/11 03:40:49]
【步骤1】计算高斯点重要性 [30/11 03:40:49]
====================================================================== [30/11 03:40:49]
原始高斯点数量: 2,546,116 [30/11 03:40:49]
Rendering progress:   0%|          | 0/196 [00:00<?, ?it/s]Rendering progress:   1%|          | 1/196 [00:00<00:42,  4.64it/s]Rendering progress:   2%|         | 3/196 [00:00<00:20,  9.25it/s]Rendering progress:   3%|         | 5/196 [00:00<00:16, 11.28it/s]Rendering progress:   4%|         | 7/196 [00:00<00:14, 12.69it/s]Rendering progress:   5%|         | 9/196 [00:00<00:13, 13.52it/s]Rendering progress:   6%|         | 11/196 [00:00<00:13, 13.70it/s]Rendering progress:   7%|         | 13/196 [00:01<00:12, 14.10it/s]Rendering progress:   8%|         | 15/196 [00:01<00:12, 14.31it/s]Rendering progress:   9%|         | 17/196 [00:01<00:12, 14.54it/s]Rendering progress:  10%|         | 19/196 [00:01<00:12, 14.61it/s]Rendering progress:  11%|         | 21/196 [00:01<00:11, 14.63it/s]Rendering progress:  12%|        | 23/196 [00:01<00:11, 14.60it/s]Rendering progress:  13%|        | 25/196 [00:01<00:11, 14.64it/s]Rendering progress:  14%|        | 27/196 [00:01<00:11, 14.63it/s]Rendering progress:  15%|        | 29/196 [00:02<00:11, 14.86it/s]Rendering progress:  16%|        | 31/196 [00:02<00:11, 14.88it/s]Rendering progress:  17%|        | 33/196 [00:02<00:11, 14.58it/s]Rendering progress:  18%|        | 35/196 [00:02<00:11, 14.57it/s]Rendering progress:  19%|        | 37/196 [00:02<00:10, 14.84it/s]Rendering progress:  20%|        | 39/196 [00:02<00:10, 14.88it/s]Rendering progress:  21%|        | 41/196 [00:02<00:10, 14.75it/s]Rendering progress:  22%|       | 43/196 [00:03<00:10, 14.36it/s]Rendering progress:  23%|       | 45/196 [00:03<00:10, 14.33it/s]Rendering progress:  24%|       | 47/196 [00:03<00:10, 14.46it/s]Rendering progress:  25%|       | 49/196 [00:03<00:10, 14.42it/s]Rendering progress:  26%|       | 51/196 [00:03<00:09, 14.53it/s]Rendering progress:  27%|       | 53/196 [00:03<00:09, 14.62it/s]Rendering progress:  28%|       | 55/196 [00:03<00:09, 14.77it/s]Rendering progress:  29%|       | 57/196 [00:04<00:09, 14.68it/s]Rendering progress:  30%|       | 59/196 [00:04<00:09, 14.82it/s]Rendering progress:  31%|       | 61/196 [00:04<00:09, 14.90it/s]Rendering progress:  32%|      | 63/196 [00:04<00:08, 14.89it/s]Rendering progress:  33%|      | 65/196 [00:04<00:08, 14.75it/s]Rendering progress:  34%|      | 67/196 [00:04<00:08, 14.64it/s]Rendering progress:  35%|      | 69/196 [00:04<00:08, 14.75it/s]Rendering progress:  36%|      | 71/196 [00:04<00:08, 14.74it/s]Rendering progress:  37%|      | 73/196 [00:05<00:08, 14.72it/s]Rendering progress:  38%|      | 75/196 [00:05<00:08, 14.69it/s]Rendering progress:  39%|      | 77/196 [00:05<00:08, 14.79it/s]Rendering progress:  40%|      | 79/196 [00:05<00:07, 14.96it/s]Rendering progress:  41%|     | 81/196 [00:05<00:07, 14.80it/s]Rendering progress:  42%|     | 83/196 [00:05<00:07, 14.37it/s]Rendering progress:  43%|     | 85/196 [00:05<00:07, 14.52it/s]Rendering progress:  44%|     | 87/196 [00:06<00:07, 14.57it/s]Rendering progress:  45%|     | 89/196 [00:06<00:07, 14.55it/s]Rendering progress:  46%|     | 91/196 [00:06<00:07, 14.75it/s]Rendering progress:  47%|     | 93/196 [00:06<00:06, 14.74it/s]Rendering progress:  48%|     | 95/196 [00:06<00:06, 14.78it/s]Rendering progress:  49%|     | 97/196 [00:06<00:06, 14.77it/s]Rendering progress:  51%|     | 99/196 [00:06<00:06, 15.00it/s]Rendering progress:  52%|    | 101/196 [00:07<00:06, 15.12it/s]Rendering progress:  53%|    | 103/196 [00:07<00:06, 15.01it/s]Rendering progress:  54%|    | 105/196 [00:07<00:06, 14.93it/s]Rendering progress:  55%|    | 107/196 [00:07<00:05, 15.01it/s]Rendering progress:  56%|    | 109/196 [00:07<00:05, 14.99it/s]Rendering progress:  57%|    | 111/196 [00:07<00:05, 14.85it/s]Rendering progress:  58%|    | 113/196 [00:07<00:05, 14.72it/s]Rendering progress:  59%|    | 115/196 [00:07<00:05, 14.82it/s]Rendering progress:  60%|    | 117/196 [00:08<00:05, 14.82it/s]Rendering progress:  61%|    | 119/196 [00:08<00:05, 14.72it/s]Rendering progress:  62%|   | 121/196 [00:08<00:05, 14.78it/s]Rendering progress:  63%|   | 123/196 [00:08<00:04, 14.83it/s]Rendering progress:  64%|   | 125/196 [00:08<00:04, 14.83it/s]Rendering progress:  65%|   | 127/196 [00:08<00:04, 14.87it/s]Rendering progress:  66%|   | 129/196 [00:08<00:04, 14.91it/s]Rendering progress:  67%|   | 131/196 [00:09<00:04, 15.07it/s]Rendering progress:  68%|   | 133/196 [00:09<00:04, 15.09it/s]Rendering progress:  69%|   | 135/196 [00:09<00:04, 15.18it/s]Rendering progress:  70%|   | 137/196 [00:09<00:03, 15.21it/s]Rendering progress:  71%|   | 139/196 [00:09<00:03, 15.22it/s]Rendering progress:  72%|  | 141/196 [00:09<00:03, 15.13it/s]Rendering progress:  73%|  | 143/196 [00:09<00:03, 15.05it/s]Rendering progress:  74%|  | 145/196 [00:09<00:03, 14.99it/s]Rendering progress:  75%|  | 147/196 [00:10<00:03, 14.60it/s]Rendering progress:  76%|  | 149/196 [00:10<00:03, 14.26it/s]Rendering progress:  77%|  | 151/196 [00:10<00:03, 14.48it/s]Rendering progress:  78%|  | 153/196 [00:10<00:02, 14.59it/s]Rendering progress:  79%|  | 155/196 [00:10<00:02, 14.28it/s]Rendering progress:  80%|  | 157/196 [00:10<00:02, 14.50it/s]Rendering progress:  81%|  | 159/196 [00:10<00:02, 14.65it/s]Rendering progress:  82%| | 161/196 [00:11<00:02, 14.80it/s]Rendering progress:  83%| | 163/196 [00:11<00:02, 14.68it/s]Rendering progress:  84%| | 165/196 [00:11<00:02, 14.74it/s]Rendering progress:  85%| | 167/196 [00:11<00:01, 14.86it/s]Rendering progress:  86%| | 169/196 [00:11<00:01, 14.26it/s]Rendering progress:  87%| | 171/196 [00:11<00:01, 14.52it/s]Rendering progress:  88%| | 173/196 [00:11<00:01, 14.76it/s]Rendering progress:  89%| | 175/196 [00:12<00:01, 14.58it/s]Rendering progress:  90%| | 177/196 [00:12<00:01, 14.75it/s]Rendering progress:  91%|| 179/196 [00:12<00:01, 14.69it/s]Rendering progress:  92%|| 181/196 [00:12<00:01, 14.85it/s]Rendering progress:  93%|| 183/196 [00:12<00:00, 14.66it/s]Rendering progress:  94%|| 185/196 [00:12<00:00, 14.74it/s]Rendering progress:  95%|| 187/196 [00:12<00:00, 14.86it/s]Rendering progress:  96%|| 189/196 [00:12<00:00, 15.01it/s]Rendering progress:  97%|| 191/196 [00:13<00:00, 14.94it/s]Rendering progress:  98%|| 193/196 [00:13<00:00, 14.97it/s]Rendering progress:  99%|| 195/196 [00:13<00:00, 14.81it/s]Rendering progress: 100%|| 196/196 [00:13<00:00, 14.58it/s]
重要性分数范围: [0.000000, 14647.362305] [30/11 03:41:03]
重要性分数均值: 4.595280 [30/11 03:41:03]

====================================================================== [30/11 03:41:03]
【步骤2】剪枝不重要的高斯点 [30/11 03:41:03]
====================================================================== [30/11 03:41:03]
剪枝阈值: 20.0% [30/11 03:41:03]
将要剪枝的点数: 509,224 (20.00%) [30/11 03:41:03]
剪枝后剩余点数: 2,036,892 (80.00%) [30/11 03:41:03]
实际剪枝数量: 509,224 [30/11 03:41:03]

====================================================================== [30/11 03:41:03]
【步骤3】八叉树编码 + RAHT准备 [30/11 03:41:03]
====================================================================== [30/11 03:41:03]
八叉树深度: 20 [30/11 03:41:03]
RAHT变换: 启用 [30/11 03:41:03]
Debug: V shape = (2036892, 3), depth = 20 [30/11 03:42:51]
Debug: V dtype = int64 [30/11 03:42:51]
Debug: N = 2036892, NN = 2036892, N_T = 4073784 [30/11 03:42:51]
Debug: 数组大小 = 2036892 [30/11 03:42:51]
Morton编码完成，点云已排序 [30/11 03:44:53]

====================================================================== [30/11 03:44:53]
【步骤4】初始化量化器 [30/11 03:44:53]
====================================================================== [30/11 03:44:53]
分块量化模式: 启用 [30/11 03:44:53]
块数量 (n_block): 57 [30/11 03:44:53]
RAHT特征维度: 55 (opacity(1) + euler(3) + f_dc(3) + f_rest(45) + scale(3)) [30/11 03:44:53]
====================================================================== [30/11 03:44:53]
初始化量化器（多位数配置） [30/11 03:44:53]
====================================================================== [30/11 03:44:53]
块数量: 57 [30/11 03:44:53]
总量化器数量: 3135 (55维 × 57块) [30/11 03:44:53]
 [30/11 03:44:53]
量化位数配置: [30/11 03:44:53]
  opacity (1维):      8-bit [30/11 03:44:53]
  euler (3维):        8-bit [30/11 03:44:53]
  f_dc (3维):         8-bit [30/11 03:44:53]
  f_rest_0 (15维):    4-bit  [SH degree 1] [30/11 03:44:53]
  f_rest_1 (15维):    4-bit  [SH degree 2] [30/11 03:44:53]
  f_rest_2 (15维):    2-bit  [SH degree 3] [30/11 03:44:53]
  scale (3维):        10-bit [30/11 03:44:53]
====================================================================== [30/11 03:44:53]

====================================================================== [30/11 03:44:53]
【步骤5】VQ训练（已跳过） [30/11 03:44:53]
====================================================================== [30/11 03:44:53]
Skipping VQ - f_rest will use RAHT transform like f_dc [30/11 03:44:53]
f_rest 将使用 RAHT 变换，无需 VQ 码本 [30/11 03:44:53]

====================================================================== [30/11 03:44:53]
【步骤6】初始评估（Iteration 0） [30/11 03:44:53]
====================================================================== [30/11 03:44:53]
开始测试集渲染... [30/11 03:44:53]
  0%|          | 0/29 [00:00<?, ?it/s]  3%|         | 1/29 [00:15<07:07, 15.28s/it]  7%|         | 2/29 [00:24<05:23, 11.98s/it] 10%|         | 3/29 [00:39<05:37, 12.99s/it] 14%|        | 4/29 [00:53<05:41, 13.65s/it] 17%|        | 5/29 [01:08<05:34, 13.94s/it] 21%|        | 6/29 [01:22<05:25, 14.15s/it] 24%|       | 7/29 [01:40<05:33, 15.17s/it] 28%|       | 8/29 [01:55<05:17, 15.12s/it] 31%|       | 9/29 [02:09<04:57, 14.88s/it] 34%|      | 10/29 [02:23<04:35, 14.52s/it] 38%|      | 11/29 [02:36<04:12, 14.04s/it] 41%|     | 12/29 [02:50<04:01, 14.23s/it] 45%|     | 13/29 [03:05<03:48, 14.28s/it] 48%|     | 14/29 [03:19<03:34, 14.32s/it] 52%|    | 15/29 [03:33<03:20, 14.33s/it] 55%|    | 16/29 [03:48<03:06, 14.34s/it] 59%|    | 17/29 [04:04<02:59, 14.99s/it] 62%|   | 18/29 [04:19<02:43, 14.84s/it] 66%|   | 19/29 [04:33<02:27, 14.72s/it] 69%|   | 20/29 [04:48<02:12, 14.77s/it] 72%|  | 21/29 [05:03<01:57, 14.65s/it] 76%|  | 22/29 [05:18<01:44, 14.86s/it] 79%|  | 23/29 [05:31<01:26, 14.49s/it] 83%| | 24/29 [05:46<01:12, 14.45s/it] 86%| | 25/29 [06:01<00:59, 14.80s/it] 90%| | 26/29 [06:15<00:43, 14.39s/it] 93%|| 27/29 [06:30<00:28, 14.49s/it] 97%|| 28/29 [06:43<00:14, 14.20s/it]100%|| 29/29 [06:57<00:00, 14.05s/it]100%|| 29/29 [06:57<00:00, 14.39s/it]

保存压缩文件... [30/11 03:51:54]
save_npz gaussians: E:/3dgs data/MesonGS/output/playroom_config3\point_cloud/iteration_0 [30/11 03:51:54]

【保存压缩文件】 [30/11 03:51:54]
  保存八叉树结构... [30/11 03:51:54]
    oct.npz: 2036892 个点 [30/11 03:51:55]
  跳过 VQ 文件（ntk.npz, um.npz） [30/11 03:51:55]

  构建 RAHT 输入特征... [30/11 03:51:55]
    rf 形状: torch.Size([2036892, 55]) (55维) [30/11 03:51:55]
    包含: opacity(1) + euler(3) + f_dc(3) + f_rest(45) + scale(3) [30/11 03:51:55]

  执行 RAHT 正向变换... [30/11 03:51:55]
    RAHT 变换完成，C 形状: torch.Size([2036892, 55]) [30/11 03:51:55]

  执行分块量化... [30/11 03:51:55]
    分块量化模式 [30/11 03:51:55]
    块数量: 57 [30/11 03:51:55]
    量化 55 维 RAHT 特征 (包含 scale)... [30/11 03:51:55]
    所有特征量化完成，使用了 3135 个量化器 (55 × 57) [30/11 03:51:57]
    量化位数分布: {8, 2, 10, 4} bits [30/11 03:51:57]
    qci 形状: (2036891, 55) [30/11 03:51:58]

  保存 RAHT 系数 (包含 scale)... [30/11 03:51:58]
    按位宽分组存储: [30/11 03:51:58]
       2-bit: 15 维度, uint8 , 29837.27 KB [30/11 03:51:58]
       4-bit: 30 维度, uint8 , 59674.54 KB [30/11 03:51:59]
       8-bit:  7 维度, uint8 , 13924.06 KB [30/11 03:51:59]
      10-bit:  3 维度, uint16, 11934.91 KB [30/11 03:51:59]
    orgb.npz: 总大小 115370.78 KB (未压缩) [30/11 03:52:07]
    包含所有 55 维特征 (opacity + euler + f_dc + f_rest + scale) [30/11 03:52:07]

  跳过独立的 Scale 文件 (ct.npz) - Scale 已包含在 RAHT 特征中 [30/11 03:52:07]

  保存量化参数... [30/11 03:52:07]
    t.npz: 6327 个参数 [30/11 03:52:07]

  打包成 ZIP 文件... [30/11 03:52:07]

【压缩完成】 [30/11 03:52:09]
  文件大小: 31,494,814 B [30/11 03:52:09]
  文件大小: 30756.65 KB [30/11 03:52:09]
  文件大小: 30.04 MB [30/11 03:52:09]

---------------------------------------------------------------------- [30/11 03:52:09]
【初始评估结果】 [30/11 03:52:09]
---------------------------------------------------------------------- [30/11 03:52:09]
PSNR:  28.7273 dB [30/11 03:52:09]
SSIM:  0.8856 [30/11 03:52:09]
LPIPS: 0.2755 [30/11 03:52:09]
文件大小: 30.04 MB [30/11 03:52:09]
---------------------------------------------------------------------- [30/11 03:52:09]

====================================================================== [30/11 03:52:09]
【步骤7】微调训练 [30/11 03:52:09]
====================================================================== [30/11 03:52:09]
总迭代次数: 0 [30/11 03:52:09]
学习率缩放: 0.4 [30/11 03:52:09]
测试迭代: [0] [30/11 03:52:09]
稀疏性损失权重 (λ_s): 5e-07 [30/11 03:52:09]
  启用稀疏性正则化，促进RAHT系数稀疏化 [30/11 03:52:09]
====================================================================== [30/11 03:52:09]
 [30/11 03:52:09]
finetuning setup: finetune [30/11 03:52:09]
微调进度: 0it [00:00, ?it/s]微调进度: 0it [00:00, ?it/s]

Training complete. [30/11 03:52:09]
